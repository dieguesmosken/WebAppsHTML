(function e(n,t,i){function r(u,e){var s,h,o;if(!t[u]){if(!n[u]){if(s=typeof require=="function"&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){var i=n[u][1][t];return r(i?i:t)},o,o.exports,e,n,t,i)}return t[u].exports}for(var f=typeof require=="function"&&require,u=0;u<i.length;u++)r(i[u]);return r})({1:[function(n,t){var r,u,f,i,e,o,s=function(n,t){function r(){this.constructor=n}for(var i in t)h.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},h={}.hasOwnProperty;o=n("./node");i=o.Position;r=function(){function n(n){this.tree_widget=n;this.hovered_area=null;this.$ghost=null;this.hit_areas=[];this.is_dragging=!1;this.current_item=null}return n.prototype.mouseCapture=function(n){var i,t;return(i=$(n.target),!this.mustCaptureElement(i))?null:this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(i)?null:(t=this.tree_widget._getNodeElement(i),t&&this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(t.node)||(t=null)),this.current_item=t,this.current_item!==null)},n.prototype.mouseStart=function(n){var t;return this.refresh(),t=$(n.target).offset(),this.drag_element=new u(this.current_item.node,n.page_x-t.left,n.page_y-t.top,this.tree_widget.element),this.is_dragging=!0,this.current_item.$element.addClass("jqtree-moving"),!0},n.prototype.mouseDrag=function(n){var t,i;return this.drag_element.move(n.page_x,n.page_y),t=this.findHoveredArea(n.page_x,n.page_y),i=this.canMoveToArea(t),i&&t?(t.node.isFolder()||this.stopOpenFolderTimer(),this.hovered_area!==t&&(this.hovered_area=t,this.mustOpenFolderTimer(t)?this.startOpenFolderTimer(t.node):this.stopOpenFolderTimer(),this.updateDropHint())):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer()),!0},n.prototype.mustCaptureElement=function(n){return!n.is("input,select")},n.prototype.canMoveToArea=function(n){var t;if(n){if(this.tree_widget.options.onCanMoveTo){t=i.getName(n.position);return this.tree_widget.options.onCanMoveTo(this.current_item.node,n.node,t)}return!0}return!1},n.prototype.mouseStop=function(n){return this.moveItem(n),this.clear(),this.removeHover(),this.removeDropHint(),this.removeHitAreas(),this.current_item&&(this.current_item.$element.removeClass("jqtree-moving"),this.current_item=null),this.is_dragging=!1,!1},n.prototype.refresh=function(){return this.removeHitAreas(),this.current_item&&(this.generateHitAreas(),this.current_item=this.tree_widget._getNodeElementForNode(this.current_item.node),this.is_dragging)?this.current_item.$element.addClass("jqtree-moving"):void 0},n.prototype.removeHitAreas=function(){return this.hit_areas=[]},n.prototype.clear=function(){return this.drag_element.remove(),this.drag_element=null},n.prototype.removeDropHint=function(){if(this.previous_ghost)return this.previous_ghost.remove()},n.prototype.removeHover=function(){return this.hovered_area=null},n.prototype.generateHitAreas=function(){var n;return n=new f(this.tree_widget.tree,this.current_item.node,this.getTreeDimensions().bottom),this.hit_areas=n.generate()},n.prototype.findHoveredArea=function(n,t){var r,i,u,f,e;if(i=this.getTreeDimensions(),n<i.left||t<i.top||n>i.right||t>i.bottom)return null;for(f=0,u=this.hit_areas.length;f<u;)if(e=f+u>>1,r=this.hit_areas[e],t<r.top)u=e;else if(t>r.bottom)f=e+1;else return r;return null},n.prototype.mustOpenFolderTimer=function(n){var t;return t=n.node,t.isFolder()&&!t.is_open&&n.position===i.INSIDE},n.prototype.updateDropHint=function(){var n;if(this.hovered_area)return this.removeDropHint(),n=this.tree_widget._getNodeElementForNode(this.hovered_area.node),this.previous_ghost=n.addDropHint(this.hovered_area.position)},n.prototype.startOpenFolderTimer=function(n){var t;return t=function(t){return function(){return t.tree_widget._openNode(n,t.tree_widget.options.slide,function(){return t.refresh(),t.updateDropHint()})}}(this),this.stopOpenFolderTimer(),this.open_folder_timer=setTimeout(t,this.tree_widget.options.openFolderDelay)},n.prototype.stopOpenFolderTimer=function(){if(this.open_folder_timer)return clearTimeout(this.open_folder_timer),this.open_folder_timer=null},n.prototype.moveItem=function(n){var u,e,t,r,o,f;if(this.hovered_area&&this.hovered_area.position!==i.NONE&&this.canMoveToArea(this.hovered_area)&&(t=this.current_item.node,f=this.hovered_area.node,r=this.hovered_area.position,o=t.parent,r===i.INSIDE&&(this.hovered_area.node.is_open=!0),u=function(n){return function(){return n.tree_widget.tree.moveNode(t,f,r),n.tree_widget.element.empty(),n.tree_widget._refreshElements()}}(this),e=this.tree_widget._triggerEvent("tree.move",{move_info:{moved_node:t,target_node:f,position:i.getName(r),previous_parent:o,do_move:u,original_event:n.original_event}}),!e.isDefaultPrevented()))return u()},n.prototype.getTreeDimensions=function(){var n;return n=this.tree_widget.element.offset(),{left:n.left,top:n.top,right:n.left+this.tree_widget.element.width(),bottom:n.top+this.tree_widget.element.height()+16}},n}();e=function(){function n(n){this.tree=n}return n.prototype.iterate=function(){var n,t;return t=!0,n=function(i){return function(r,u){var f,a,c,e,o,l,s,h;if(s=(r.is_open||!r.element)&&r.hasChildren(),r.element){if(f=$(r.element),!f.is(":visible"))return;t&&(i.handleFirstNode(r,f),t=!1);r.hasChildren()?r.is_open?i.handleOpenFolder(r,f)||(s=!1):i.handleClosedFolder(r,u,f):i.handleNode(r,u,f)}if(s){for(c=r.children.length,h=r.children,e=o=0,l=h.length;o<l;e=++o)a=h[e],e===c-1?n(r.children[e],null):n(r.children[e],r.children[e+1]);if(r.is_open)return i.handleAfterOpenFolder(r,u,f)}}}(this),n(this.tree,null)},n.prototype.handleNode=function(){},n.prototype.handleOpenFolder=function(){},n.prototype.handleClosedFolder=function(){},n.prototype.handleAfterOpenFolder=function(){},n.prototype.handleFirstNode=function(){},n}();f=function(n){function t(n,i,r){t.__super__.constructor.call(this,n);this.current_node=i;this.tree_bottom=r}return s(t,n),t.prototype.generate=function(){return this.positions=[],this.last_top=0,this.iterate(),this.generateHitAreas(this.positions)},t.prototype.getTop=function(n){return n.offset().top},t.prototype.addPosition=function(n,t,i){var r;return r={top:i,node:n,position:t},this.positions.push(r),this.last_top=i},t.prototype.handleNode=function(n,t,r){var u;return u=this.getTop(r),n===this.current_node?this.addPosition(n,i.NONE,u):this.addPosition(n,i.INSIDE,u),t===this.current_node||n===this.current_node?this.addPosition(n,i.NONE,u):this.addPosition(n,i.AFTER,u)},t.prototype.handleOpenFolder=function(n,t){return n===this.current_node?!1:(n.children[0]!==this.current_node&&this.addPosition(n,i.INSIDE,this.getTop(t)),!0)},t.prototype.handleClosedFolder=function(n,t,r){var u;return(u=this.getTop(r),n===this.current_node)?this.addPosition(n,i.NONE,u):(this.addPosition(n,i.INSIDE,u),t!==this.current_node)?this.addPosition(n,i.AFTER,u):void 0},t.prototype.handleFirstNode=function(n){if(n!==this.current_node)return this.addPosition(n,i.BEFORE,this.getTop($(n.element)))},t.prototype.handleAfterOpenFolder=function(n,t){return n===this.current_node.node||t===this.current_node.node?this.addPosition(n,i.NONE,this.last_top):this.addPosition(n,i.AFTER,this.last_top)},t.prototype.generateHitAreas=function(n){var t,u,f,e,i,r;for(r=-1,t=[],u=[],f=0,e=n.length;f<e;f++)i=n[f],i.top!==r&&t.length&&(t.length&&this.generateHitAreasForGroup(u,t,r,i.top),r=i.top,t=[]),t.push(i);return this.generateHitAreasForGroup(u,t,r,this.tree_bottom),u},t.prototype.generateHitAreasForGroup=function(n,t,i,r){var e,u,f,o,s;for(s=Math.min(t.length,4),e=Math.round((r-i)/s),u=i,f=0;f<s;)o=t[f],n.push({top:u,bottom:u+e,node:o.node,position:o.position}),u+=e,f+=1;return null},t}(e);u=function(){function n(n,t,i,r){this.offset_x=t;this.offset_y=i;this.$element=$('<span class="jqtree-title jqtree-dragging">'+n.name+"<\/span>");this.$element.css("position","absolute");r.append(this.$element)}return n.prototype.move=function(n,t){return this.$element.offset({left:n-this.offset_x,top:t-this.offset_y})},n.prototype.remove=function(){return this.$element.remove()},n}();t.exports=r},{"./node":5}],2:[function(n,t){var i,e,r,u,f;u=n("./node_element");e=u.NodeElement;f=n("./util");r=f.html_escape;i=function(){function n(n){this.tree_widget=n;this.opened_icon_element=this.createButtonElement(n.options.openedIcon);this.closed_icon_element=this.createButtonElement(n.options.closedIcon)}return n.prototype.render=function(n){return n&&n.parent?this.renderFromNode(n):this.renderFromRoot()},n.prototype.renderFromRoot=function(){var n;return n=this.tree_widget.element,n.empty(),this.createDomElements(n[0],this.tree_widget.tree.children,!0,!0)},n.prototype.renderFromNode=function(n){var i,t;return i=$(n.element),t=this.createLi(n),this.attachNodeData(n,t),i.after(t),i.remove(),n.children?this.createDomElements(t,n.children,!1,!1):void 0},n.prototype.createDomElements=function(n,t,i){var r,u,o,f,e;for(e=this.createUl(i),n.appendChild(e),u=0,o=t.length;u<o;u++)r=t[u],f=this.createLi(r),e.appendChild(f),this.attachNodeData(r,f),r.hasChildren()&&this.createDomElements(f,r.children,!1,r.is_open);return null},n.prototype.attachNodeData=function(n,t){return n.element=t,$(t).data("node",n)},n.prototype.createUl=function(n){var i,t;return i=n?"jqtree-tree":"",t=document.createElement("ul"),t.className="jqtree_common "+i,t},n.prototype.createLi=function(n){var t;if(t=n.isFolder()?this.createFolderLi(n):this.createNodeLi(n),this.tree_widget.options.onCreateLi)this.tree_widget.options.onCreateLi(n,$(t));return t},n.prototype.createFolderLi=function(n){var f,r,i,e,o,s,u,t;return f=this.getButtonClasses(n),o=this.getFolderClasses(n),e=this.escapeIfNecessary(n.name),s=n.is_open?this.opened_icon_element:this.closed_icon_element,u=document.createElement("li"),u.className="jqtree_common "+o,i=document.createElement("div"),i.className="jqtree-element jqtree_common",u.appendChild(i),r=document.createElement("a"),r.className="jqtree_common "+f,r.appendChild(s.cloneNode(!1)),i.appendChild(r),t=document.createElement("a"),t.setAttribute("data-node",n.id),t.className="jqtree_common jqtree-title jqtree-title-folder",t.href="javascript:void(0);",i.appendChild(t),t.innerHTML=e,u},n.prototype.createNodeLi=function(n){var f,i,e,r,u,t;return u=["jqtree_common"],this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(n)&&u.push("jqtree-selected"),f=u.join(" "),e=this.escapeIfNecessary(n.name),r=document.createElement("li"),r.className=f,i=document.createElement("div"),i.className="jqtree-element jqtree_common",r.appendChild(i),t=document.createElement("a"),t.href=n.url!=null?n.url:"javascript:void(0);",t.target=n.target!=null?n.target:"_self",t.title=n.title!=null?n.title:"Acessar P\ufffdgina",t.className="jqtree-title jqtree_common",t.innerHTML=e,i.appendChild(t),r},n.prototype.getButtonClasses=function(n){var t;return t=["jqtree-toggler"],n.is_open||t.push("jqtree-closed"),t.join(" ")},n.prototype.getFolderClasses=function(n){var t;return t=["jqtree-folder"],n.is_open||t.push("jqtree-closed"),this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(n)&&t.push("jqtree-selected"),n.is_loading&&t.push("jqtree-loading"),t.join(" ")},n.prototype.escapeIfNecessary=function(n){return this.tree_widget.options.autoEscape?r(n):n},n.prototype.createButtonElement=function(n){var i,t;return typeof n=="string"?(i=document.createElement("i"),t=$(i),t.addClass("icon "+n),t[0]):$(n)[0]},n}();t.exports=i},{"./node_element":6,"./util":12}],3:[function(n,t){var i,r=function(n,t){return function(){return n.apply(t,arguments)}};i=function(){function n(n){this.selectNode=r(this.selectNode,this);this.tree_widget=n;n.options.keyboardSupport&&$(document).bind("keydown.jqtree",$.proxy(this.handleKeyDown,this))}var t,i,u,f;return i=37,f=38,u=39,t=40,n.prototype.deinit=function(){return $(document).unbind("keydown.jqtree")},n.prototype.moveDown=function(){var n;return n=this.tree_widget.getSelectedNode(),n?this.selectNode(n.getNextNode()):!1},n.prototype.moveUp=function(){var n;return n=this.tree_widget.getSelectedNode(),n?this.selectNode(n.getPreviousNode()):!1},n.prototype.moveRight=function(){var n;return n=this.tree_widget.getSelectedNode(),n&&n.isFolder()&&!n.is_open?(this.tree_widget.openNode(n),!1):!0},n.prototype.moveLeft=function(){var n;return n=this.tree_widget.getSelectedNode(),n&&n.isFolder()&&n.is_open?(this.tree_widget.closeNode(n),!1):!0},n.prototype.handleKeyDown=function(n){var r;if(!this.tree_widget.options.keyboardSupport||$(document.activeElement).is("textarea,input,select")||!this.tree_widget.getSelectedNode())return!0;r=n.which;switch(r){case t:return this.moveDown();case f:return this.moveUp();case u:return this.moveRight();case i:return this.moveLeft()}return!0},n.prototype.selectNode=function(n){return n?(this.tree_widget.selectNode(n),this.tree_widget.scroll_handler&&!this.tree_widget.scroll_handler.isScrolledIntoView($(n.element).find(".jqtree-element"))&&this.tree_widget.scrollToNode(n),!1):!0},n}();t.exports=i},{}],4:[function(n,t){var i,r,u=function(n,t){function r(){this.constructor=n}for(var i in t)f.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},f={}.hasOwnProperty;r=n("./simple.widget");i=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,n),t.is_mouse_handled=!1,t.prototype._init=function(){return this.$el.bind("mousedown.mousewidget",$.proxy(this._mouseDown,this)),this.$el.bind("touchstart.mousewidget",$.proxy(this._touchStart,this)),this.is_mouse_started=!1,this.mouse_delay=0,this._mouse_delay_timer=null,this._is_mouse_delay_met=!0,this.mouse_down_info=null},t.prototype._deinit=function(){var n;return this.$el.unbind("mousedown.mousewidget"),this.$el.unbind("touchstart.mousewidget"),n=$(document),n.unbind("mousemove.mousewidget"),n.unbind("mouseup.mousewidget")},t.prototype._mouseDown=function(n){var t;if(n.which===1)return t=this._handleMouseDown(n,this._getPositionInfo(n)),t&&n.preventDefault(),t},t.prototype._handleMouseDown=function(n,i){if(!t.is_mouse_handled)return(this.is_mouse_started&&this._handleMouseUp(i),this.mouse_down_info=i,!this._mouseCapture(i))?void 0:(this._handleStartMouse(),this.is_mouse_handled=!0,!0)},t.prototype._handleStartMouse=function(){var n;return n=$(document),n.bind("mousemove.mousewidget",$.proxy(this._mouseMove,this)),n.bind("touchmove.mousewidget",$.proxy(this._touchMove,this)),n.bind("mouseup.mousewidget",$.proxy(this._mouseUp,this)),n.bind("touchend.mousewidget",$.proxy(this._touchEnd,this)),this.mouse_delay?this._startMouseDelayTimer():void 0},t.prototype._startMouseDelayTimer=function(){return this._mouse_delay_timer&&clearTimeout(this._mouse_delay_timer),this._mouse_delay_timer=setTimeout(function(n){return function(){return n._is_mouse_delay_met=!0}}(this),this.mouse_delay),this._is_mouse_delay_met=!1},t.prototype._mouseMove=function(n){return this._handleMouseMove(n,this._getPositionInfo(n))},t.prototype._handleMouseMove=function(n,t){return this.is_mouse_started?(this._mouseDrag(t),n.preventDefault()):this.mouse_delay&&!this._is_mouse_delay_met?!0:(this.is_mouse_started=this._mouseStart(this.mouse_down_info)!==!1,this.is_mouse_started?this._mouseDrag(t):this._handleMouseUp(t),!this.is_mouse_started)},t.prototype._getPositionInfo=function(n){return{page_x:n.pageX,page_y:n.pageY,target:n.target,original_event:n}},t.prototype._mouseUp=function(n){return this._handleMouseUp(this._getPositionInfo(n))},t.prototype._handleMouseUp=function(n){var t;t=$(document);t.unbind("mousemove.mousewidget");t.unbind("touchmove.mousewidget");t.unbind("mouseup.mousewidget");t.unbind("touchend.mousewidget");this.is_mouse_started&&(this.is_mouse_started=!1,this._mouseStop(n))},t.prototype._mouseCapture=function(){return!0},t.prototype._mouseStart=function(){return null},t.prototype._mouseDrag=function(){return null},t.prototype._mouseStop=function(){return null},t.prototype.setMouseDelay=function(n){return this.mouse_delay=n},t.prototype._touchStart=function(n){var t;if(!(n.originalEvent.touches.length>1))return t=n.originalEvent.changedTouches[0],this._handleMouseDown(n,this._getPositionInfo(t))},t.prototype._touchMove=function(n){var t;if(!(n.originalEvent.touches.length>1))return t=n.originalEvent.changedTouches[0],this._handleMouseMove(n,this._getPositionInfo(t))},t.prototype._touchEnd=function(n){var t;if(!(n.originalEvent.touches.length>1))return t=n.originalEvent.changedTouches[0],this._handleMouseUp(this._getPositionInfo(t))},t}(r);t.exports=i},{"./simple.widget":10}],5:[function(n,t){var r,i;i={getName:function(n){return i.strings[n-1]},nameToIndex:function(n){for(var t,u=t=1,r=i.strings.length;1<=r?t<=r:t>=r;u=1<=r?++t:--t)if(i.strings[u-1]===n)return u;return 0}};i.BEFORE=1;i.AFTER=2;i.INSIDE=3;i.NONE=4;i.strings=["before","after","inside","none"];r=function(){function n(t,i,r){i==null&&(i=!1);r==null&&(r=n);this.setData(t);this.children=[];this.parent=null;i&&(this.id_mapping={},this.tree=this,this.node_class=r)}return n.prototype.setData=function(n){var t,i;if(typeof n!="object")this.name=n;else for(t in n)i=n[t],t==="label"?this.name=i:this[t]=i;return null},n.prototype.initFromData=function(n){var t,i;return i=function(n){return function(i){return n.setData(i),i.children?t(i.children):void 0}}(this),t=function(n){return function(t){for(var u,r,i=0,f=t.length;i<f;i++)u=t[i],r=new n.tree.node_class(""),r.initFromData(u),n.addChild(r);return null}}(this),i(n),null},n.prototype.loadFromData=function(n){var i,u,r,t;for(this.removeChildren(),i=0,u=n.length;i<u;i++)t=n[i],r=new this.tree.node_class(t),this.addChild(r),typeof t=="object"&&t.children&&r.loadFromData(t.children);return null},n.prototype.addChild=function(n){return this.children.push(n),n._setParent(this)},n.prototype.addChildAtPosition=function(n,t){return this.children.splice(t,0,n),n._setParent(this)},n.prototype._setParent=function(n){return this.parent=n,this.tree=n.tree,this.tree.addNodeToIndex(this)},n.prototype.removeChild=function(n){return n.removeChildren(),this._removeChild(n)},n.prototype._removeChild=function(n){return this.children.splice(this.getChildIndex(n),1),this.tree.removeNodeFromIndex(n)},n.prototype.getChildIndex=function(n){return $.inArray(n,this.children)},n.prototype.hasChildren=function(){return this.children.length!==0},n.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand},n.prototype.iterate=function(n){var t;return t=function(i,r){var u,f,o,e,s;if(i.children){for(e=i.children,f=0,o=e.length;f<o;f++)u=e[f],s=n(u,r),s&&u.hasChildren()&&t(u,r+1);return null}},t(this,0),null},n.prototype.moveNode=function(n,t,r){if(!n.isParentOf(t))return(n.parent._removeChild(n),r===i.AFTER)?t.parent.addChildAtPosition(n,t.parent.getChildIndex(t)+1):r===i.BEFORE?t.parent.addChildAtPosition(n,t.parent.getChildIndex(t)):r===i.INSIDE?t.addChildAtPosition(n,0):void 0},n.prototype.getData=function(){var n;return n=function(){return function(t){var e,u,i,o,r,f,s;for(e=[],u=0,o=t.length;u<o;u++){r=t[u];f={};for(i in r)s=r[i],i!=="parent"&&i!=="children"&&i!=="element"&&i!=="tree"&&Object.prototype.hasOwnProperty.call(r,i)&&(f[i]=s);r.hasChildren()&&(f.children=n(r.children));e.push(f)}return e}}(this),n(this.children)},n.prototype.getNodeByName=function(n){var t;return t=null,this.iterate(function(i){return i.name===n?(t=i,!1):!0}),t},n.prototype.addAfter=function(n){var i,t;return this.parent?(t=new this.tree.node_class(n),i=this.parent.getChildIndex(this),this.parent.addChildAtPosition(t,i+1),t):null},n.prototype.addBefore=function(n){var i,t;return this.parent?(t=new this.tree.node_class(n),i=this.parent.getChildIndex(this),this.parent.addChildAtPosition(t,i),t):null},n.prototype.addParent=function(n){var f,i,e,t,r,u;if(this.parent){for(t=new this.tree.node_class(n),t._setParent(this.tree),r=this.parent,u=r.children,i=0,e=u.length;i<e;i++)f=u[i],t.addChild(f);return r.children=[],r.addChild(t),t}return null},n.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this),this.parent=null},n.prototype.append=function(n){var t;return t=new this.tree.node_class(n),this.addChild(t),t},n.prototype.prepend=function(n){var t;return t=new this.tree.node_class(n),this.addChildAtPosition(t,0),t},n.prototype.isParentOf=function(n){for(var t=n.parent;t;){if(t===this)return!0;t=t.parent}return!1},n.prototype.getLevel=function(){for(var t=0,n=this;n.parent;)t+=1,n=n.parent;return t},n.prototype.getNodeById=function(n){return this.id_mapping[n]},n.prototype.addNodeToIndex=function(n){if(n.id!=null)return this.id_mapping[n.id]=n},n.prototype.removeNodeFromIndex=function(n){if(n.id!=null)return delete this.id_mapping[n.id]},n.prototype.removeChildren=function(){return this.iterate(function(n){return function(t){return n.tree.removeNodeFromIndex(t),!0}}(this)),this.children=[]},n.prototype.getPreviousSibling=function(){var n;return this.parent?(n=this.parent.getChildIndex(this)-1,n>=0?this.parent.children[n]:null):null},n.prototype.getNextSibling=function(){var n;return this.parent?(n=this.parent.getChildIndex(this)+1,n<this.parent.children.length?this.parent.children[n]:null):null},n.prototype.getNodesByProperty=function(n,t){return this.filter(function(i){return i[n]===t})},n.prototype.filter=function(n){var t;return t=[],this.iterate(function(i){return n(i)&&t.push(i),!0}),t},n.prototype.getNextNode=function(n){var t;return n==null&&(n=!0),n&&this.hasChildren()&&this.is_open?this.children[0]:this.parent?(t=this.getNextSibling(),t?t:this.parent.getNextNode(!1)):null},n.prototype.getPreviousNode=function(){var n;return this.parent?(n=this.getPreviousSibling(),n?n.hasChildren()&&n.is_open?n.getLastChild():n:this.parent.parent?this.parent:null):null},n.prototype.getLastChild=function(){var n;return this.hasChildren()?(n=this.children[this.children.length-1],n.hasChildren()&&n.is_open?n.getLastChild():n):null},n}();t.exports={Node:r,Position:i}},{}],6:[function(n,t){var r,e,u,f,i,o,s=function(n,t){function r(){this.constructor=n}for(var i in t)h.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},h={}.hasOwnProperty;o=n("./node");i=o.Position;f=function(){function n(n,t){this.init(n,t)}return n.prototype.init=function(n,t){return this.node=n,this.tree_widget=t,n.element||(n.element=this.tree_widget.element),this.$element=$(n.element)},n.prototype.getUl=function(){return this.$element.children("ul:first")},n.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")},n.prototype.getLi=function(){return this.$element},n.prototype.addDropHint=function(n){return n===i.INSIDE?new r(this.$element):new u(this.node,this.$element,n)},n.prototype.select=function(){return this.getLi().addClass("jqtree-selected")},n.prototype.deselect=function(){return this.getLi().removeClass("jqtree-selected")},n}();e=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,n),t.prototype.open=function(n,t){var i,r;return t==null&&(t=!0),this.node.is_open?void 0:(this.node.is_open=!0,i=this.getButton(),i.removeClass("jqtree-closed"),i.html(""),i.append(this.tree_widget.renderer.opened_icon_element.cloneNode(!1)),r=function(t){return function(){return t.getLi().removeClass("jqtree-closed"),n&&n(),t.tree_widget._triggerEvent("tree.open",{node:t.node})}}(this),t?this.getUl().slideDown("fast",r):(this.getUl().show(),r()))},t.prototype.close=function(n){var t,i;return n==null&&(n=!0),this.node.is_open?(this.node.is_open=!1,t=this.getButton(),t.addClass("jqtree-closed"),t.html(""),t.append(this.tree_widget.renderer.closed_icon_element.cloneNode(!1)),i=function(n){return function(){return n.getLi().addClass("jqtree-closed"),n.tree_widget._triggerEvent("tree.close",{node:n.node})}}(this),n?this.getUl().slideUp("fast",i):(this.getUl().hide(),i())):void 0},t.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")},t.prototype.addDropHint=function(n){return this.node.is_open||n!==i.INSIDE?new u(this.node,this.$element,n):new r(this.$element)},t}(f);r=function(){function n(n){var t,i;t=n.children(".jqtree-element");i=n.width()-4;this.$hint=$('<span class="jqtree-border"><\/span>');t.append(this.$hint);this.$hint.css({width:i,height:t.outerHeight()-4})}return n.prototype.remove=function(){return this.$hint.remove()},n}();u=function(){function n(n,t,r){this.$element=t;this.node=n;this.$ghost=$('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"><\/span><span class="jqtree_common jqtree-line"><\/span><\/li>');r===i.AFTER?this.moveAfter():r===i.BEFORE?this.moveBefore():r===i.INSIDE&&(n.isFolder()&&n.is_open?this.moveInsideOpenFolder():this.moveInside())}return n.prototype.remove=function(){return this.$ghost.remove()},n.prototype.moveAfter=function(){return this.$element.after(this.$ghost)},n.prototype.moveBefore=function(){return this.$element.before(this.$ghost)},n.prototype.moveInsideOpenFolder=function(){return $(this.node.children[0].element).before(this.$ghost)},n.prototype.moveInside=function(){return this.$element.after(this.$ghost),this.$ghost.addClass("jqtree-inside")},n}();t.exports={FolderElement:e,NodeElement:f}},{"./node":5}],7:[function(n,t){var r,f,u,i;i=n("./util");f=i.indexOf;u=i.isInt;r=function(){function n(n){this.tree_widget=n}return n.prototype.saveState=function(){var n;return(n=JSON.stringify(this.getState()),this.tree_widget.options.onSetStateFromStorage)?this.tree_widget.options.onSetStateFromStorage(n):this.supportsLocalStorage()?localStorage.setItem(this.getCookieName(),n):$.cookie?($.cookie.raw=!0,$.cookie(this.getCookieName(),n,{path:"/"})):void 0},n.prototype.getStateFromStorage=function(){var n;return n=this._loadFromStorage(),n?this._parseState(n):null},n.prototype._parseState=function(n){var t;return t=$.parseJSON(n),t&&t.selected_node&&u(t.selected_node)&&(t.selected_node=[t.selected_node]),t},n.prototype._loadFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getCookieName()):$.cookie?($.cookie.raw=!0,$.cookie(this.getCookieName())):null},n.prototype.getState=function(){var n,t;return n=function(n){return function(){var t;return t=[],n.tree_widget.tree.iterate(function(n){return n.is_open&&n.id&&n.hasChildren()&&t.push(n.id),!0}),t}}(this),t=function(n){return function(){var t;return function(){var n,u,i,r;for(i=this.tree_widget.getSelectedNodes(),r=[],n=0,u=i.length;n<u;n++)t=i[n],r.push(t.id);return r}.call(n)}}(this),{open_nodes:n(),selected_node:t()}},n.prototype.setInitialState=function(n){var t;return n?(t=this._openInitialNodes(n.open_nodes),this._selectInitialNodes(n.selected_node),t):!1},n.prototype._openInitialNodes=function(n){var t,u,r,i,f;for(r=!1,t=0,u=n.length;t<u;t++)f=n[t],i=this.tree_widget.getNodeById(f),i&&(i.load_on_demand?r=!0:i.is_open=!0);return r},n.prototype._selectInitialNodes=function(n){var t,u,i,f,r;for(r=0,t=0,u=n.length;t<u;t++)f=n[t],i=this.tree_widget.getNodeById(f),i&&(r+=1,this.tree_widget.select_node_handler.addToSelection(i));return r!==0},n.prototype.setInitialStateOnDemand=function(n){if(n)return this._setInitialStateOnDemand(n.open_nodes,n.selected_node)},n.prototype._setInitialStateOnDemand=function(n,t){var r,i;return i=function(i){return function(){var f,s,e,u,o;for(e=[],f=0,s=n.length;f<s;f++)o=n[f],u=i.tree_widget.getNodeById(o),u?u.is_loading||(u.load_on_demand?r(u):i.tree_widget._openNode(u,!1)):e.push(o);return n=e,i._selectInitialNodes(t)?i.tree_widget._refreshElements():void 0}}(this),r=function(n){return function(t){return n.tree_widget._openNode(t,!1,i)}}(this),i()},n.prototype.getCookieName=function(){return typeof this.tree_widget.options.saveState=="string"?this.tree_widget.options.saveState:"tree"},n.prototype.supportsLocalStorage=function(){var n;return n=function(){var t,n;if(typeof localStorage=="undefined"||localStorage===null)return!1;try{n="_storage_test";sessionStorage.setItem(n,!0);sessionStorage.removeItem(n)}catch(i){return t=i,!1}return!0},this._supportsLocalStorage==null&&(this._supportsLocalStorage=n()),this._supportsLocalStorage},n.prototype.getNodeIdToBeSelected=function(){var n;return n=this.getStateFromStorage(),n&&n.selected_node?n.selected_node[0]:null},n}();t.exports=r},{"./util":12}],8:[function(n,t){var i;i=function(){function n(n){this.tree_widget=n;this.previous_top=-1;this._initScrollParent()}return n.prototype._initScrollParent=function(){var n,i,t;return i=function(n){return function(){var i,r,u,t,e,f;if(i=["overflow","overflow-y"],u=function(n){for(var r,f,t=0,u=i.length;t<u;t++)if(r=i[t],(f=$.css(n,r))==="auto"||f==="scroll")return!0;return!1},u(n.tree_widget.$el[0]))return n.tree_widget.$el;for(f=n.tree_widget.$el.parents(),t=0,e=f.length;t<e;t++)if(r=f[t],u(r))return $(r);return null}}(this),t=function(n){return function(){return n.scroll_parent_top=0,n.$scroll_parent=null}}(this),this.tree_widget.$el.css("position")==="fixed"&&t(),n=i(),n&&n.length&&n[0].tagName!=="HTML"?(this.$scroll_parent=n,this.scroll_parent_top=this.$scroll_parent.offset().top):t()},n.prototype.checkScrolling=function(){var n;return n=this.tree_widget.dnd_handler.hovered_area,n&&n.top!==this.previous_top?(this.previous_top=n.top,this.$scroll_parent?this._handleScrollingWithScrollParent(n):this._handleScrollingWithDocument(n)):void 0},n.prototype._handleScrollingWithScrollParent=function(n){var t;return(t=this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-n.bottom,t<20)?(this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):n.top-this.scroll_parent_top<20?(this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1):void 0},n.prototype._handleScrollingWithDocument=function(n){var t;return(t=n.top-$(document).scrollTop(),t<20)?$(document).scrollTop($(document).scrollTop()-20):$(window).height()-(n.bottom-$(document).scrollTop())<20?$(document).scrollTop($(document).scrollTop()+20):void 0},n.prototype.scrollTo=function(n){var t;return this.$scroll_parent?this.$scroll_parent[0].scrollTop=n:(t=this.tree_widget.$el.offset().top,$(document).scrollTop(n+t))},n.prototype.isScrolledIntoView=function(n){var t,u,i,f,r;return t=$(n),this.$scroll_parent?(r=0,f=this.$scroll_parent.height(),i=t.offset().top-this.scroll_parent_top,u=i+t.height()):(r=$(window).scrollTop(),f=r+$(window).height(),i=t.offset().top,u=i+t.height()),u<=f&&i>=r},n}();t.exports=i},{}],9:[function(n,t){var i;i=function(){function n(n){this.tree_widget=n;this.clear()}return n.prototype.getSelectedNode=function(){var n;return n=this.getSelectedNodes(),n.length?n[0]:!1},n.prototype.getSelectedNodes=function(){var i,n,t;if(this.selected_single_node)return[this.selected_single_node];t=[];for(i in this.selected_nodes)n=this.tree_widget.getNodeById(i),n&&t.push(n);return t},n.prototype.getSelectedNodesUnder=function(n){var r,t,i;if(this.selected_single_node)return n.isParentOf(this.selected_single_node)?[this.selected_single_node]:[];i=[];for(r in this.selected_nodes)t=this.tree_widget.getNodeById(r),t&&n.isParentOf(t)&&i.push(t);return i},n.prototype.isNodeSelected=function(n){return n.id?this.selected_nodes[n.id]:this.selected_single_node?this.selected_single_node.element===n.element:!1},n.prototype.clear=function(){return this.selected_nodes={},this.selected_single_node=null},n.prototype.removeFromSelection=function(n,t){if(t==null&&(t=!1),n.id){if(delete this.selected_nodes[n.id],t)return n.iterate(function(t){return function(){return delete t.selected_nodes[n.id],!0}}(this))}else if(this.selected_single_node&&n.element===this.selected_single_node.element)return this.selected_single_node=null},n.prototype.addToSelection=function(n){return n.id?this.selected_nodes[n.id]=!0:this.selected_single_node=n},n}();t.exports=i},{}],10:[function(n,t){var i,r=[].slice;i=function(){function n(n,t){this.$el=$(n);this.options=$.extend({},this.defaults,t)}return n.prototype.defaults={},n.prototype.destroy=function(){return this._deinit()},n.prototype._init=function(){return null},n.prototype._deinit=function(){return null},n.register=function(t,i){var e,o,s,u,f;return u=function(){return"simple_widget_"+i},f=function(t,i){var r;return r=$.data(t,i),r&&r instanceof n?r:null},o=function(n,i){var e,r,h,o,c,s;for(e=u(),o=0,c=n.length;o<c;o++)r=n[o],h=f(r,e),h||(s=new t(r,i),$.data(r,e)||$.data(r,e,s),s._init());return n},s=function(n){var i,r,t,s,e,o;for(i=u(),e=[],t=0,s=n.length;t<s;t++)r=n[t],o=f(r,i),o&&o.destroy(),e.push($.removeData(r,i));return e},e=function(t,i,r){var h,e,c,s,f,o;for(s=null,e=0,c=t.length;e<c;e++)h=t[e],f=$.data(h,u()),f&&f instanceof n&&(o=f[i],o&&typeof o=="function"&&(s=o.apply(f,r)));return s},$.fn[i]=function(){var i,f,n,u,h;return(n=arguments[0],f=2<=arguments.length?r.call(arguments,1):[],i=this,n===void 0||typeof n=="object")?(h=n,o(i,h)):typeof n=="string"&&n[0]!=="_"?(u=n,u==="destroy"?s(i):u==="get_widget_class"?t:e(i,u,f)):void 0}},n}();t.exports=i},{}],11:[function(n){var f,c,i,e,o,l,a,v,y,s,h,r,p,w,t,u,b,k=function(n,t){function r(){this.constructor=n}for(var i in t)d.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},d={}.hasOwnProperty;w=n("./version");f=n("./drag_and_drop_handler");c=n("./elements_renderer");o=n("./key_handler");l=n("./mouse.widget");s=n("./save_state_handler");h=n("./scroll_handler");r=n("./select_node_handler");p=n("./simple.widget");u=n("./node");a=u.Node;y=u.Position;b=n("./util");t=n("./node_element");v=t.NodeElement;i=t.FolderElement;e=function(n){function u(){return u.__super__.constructor.apply(this,arguments)}return k(u,n),u.prototype.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:function(n,t){t.hasClass("jqtree-folder")==!1&&t.find(".jqtree-title").before('<span class="icon icon-file-text-alt"><\/span>')},onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,dataUrl:null,closedIcon:"icon-folder-close",openedIcon:"icon-folder-open",slide:!0,nodeClass:a,dataFilter:null,keyboardSupport:!0,openFolderDelay:500},u.prototype.toggle=function(n,t){return t==null&&(t=null),t===null&&(t=this.options.slide),n.is_open?this.closeNode(n,t):this.openNode(n,t)},u.prototype.getTree=function(){return this.tree},u.prototype.selectNode=function(n){return this._selectNode(n,!1)},u.prototype._selectNode=function(n,t){var r,u,f,i;if(t==null&&(t=!1),this.select_node_handler){if(r=function(t){return function(){return t.options.onCanSelectNode?t.options.selectable&&t.options.onCanSelectNode(n):t.options.selectable}}(this),f=function(t){return function(){var i;return i=n.parent,i&&i.parent&&!i.is_open?t.openNode(i,!1):void 0}}(this),i=function(n){return function(){if(n.options.saveState)return n.save_state_handler.saveState()}}(this),!n){this._deselectCurrentNode();i();return}if(r())return this.select_node_handler.isNodeSelected(n)?t&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:n})):(u=this.getSelectedNode(),this._deselectCurrentNode(),this.addToSelection(n),this._triggerEvent("tree.select",{node:n,deselected_node:u}),f()),i()}},u.prototype.getSelectedNode=function(){return this.select_node_handler?this.select_node_handler.getSelectedNode():null},u.prototype.toJson=function(){return JSON.stringify(this.tree.getData())},u.prototype.loadData=function(n,t){return this._loadData(n,t)},u.prototype.loadDataFromUrl=function(n,t,i){return $.type(n)!=="string"&&(i=t,t=n,n=null),this._loadDataFromUrl(n,t,i)},u.prototype.reload=function(){return this.loadDataFromUrl()},u.prototype._loadDataFromUrl=function(n,t,i){var r,e,f,o,s,u;if(r=null,e=function(n){return function(){return r=t?$(t.element):n.element,r.addClass("jqtree-loading")}}(this),u=function(){if(r)return r.removeClass("jqtree-loading")},s=function(){return $.type(n)==="string"&&(n={url:n}),n.method?void 0:n.method="get"},f=function(n){return function(r){return u(),n._loadData(r,t),i&&$.isFunction(i)?i():void 0}}(this),o=function(t){return function(){return s(),$.ajax({url:n.url,data:n.data,type:n.method.toUpperCase(),cache:!1,dataType:"json",success:function(n){var i;return i=$.isArray(n)||typeof n=="object"?n:$.parseJSON(n),t.options.dataFilter&&(i=t.options.dataFilter(i)),f(i)},error:function(n){if(u(),t.options.onLoadFailed)return t.options.onLoadFailed(n)}})}}(this),n||(n=this._getDataUrlInfo(t)),e(),n)if($.isArray(n))f(n);else return o();else u()},u.prototype._loadData=function(n,t){var i,r;if(t==null&&(t=null),i=function(n){return function(){var i,u,f,r;if(n.select_node_handler)for(r=n.select_node_handler.getSelectedNodesUnder(t),i=0,u=r.length;i<u;i++)f=r[i],n.select_node_handler.removeFromSelection(f);return null}}(this),r=function(i){return function(){return t.loadFromData(n),t.load_on_demand=!1,t.is_loading=!1,i._refreshElements(t)}}(this),n)return this._triggerEvent("tree.load_data",{tree_data:n}),t?(i(),r()):this._initTree(n),this.isDragging()?this.dnd_handler.refresh():void 0},u.prototype.getNodeById=function(n){return this.tree.getNodeById(n)},u.prototype.getNodeByName=function(n){return this.tree.getNodeByName(n)},u.prototype.getNodesByProperty=function(n,t){return this.tree.getNodesByProperty(n,t)},u.prototype.openNode=function(n,t){return t==null&&(t=null),t===null&&(t=this.options.slide),this._openNode(n,t)},u.prototype._openNode=function(n,t,r){var f,u;if(t==null&&(t=!0),f=function(n){return function(t,r,u){var f;return f=new i(t,n),f.open(u,r)}}(this),n.isFolder()){if(n.load_on_demand)return this._loadFolderOnDemand(n,t,r);for(u=n.parent;u;)u.parent&&f(u,!1,null),u=u.parent;return f(n,t,r),this._saveState()}},u.prototype._loadFolderOnDemand=function(n,t,i){return t==null&&(t=!0),n.is_loading=!0,this._loadDataFromUrl(null,n,function(r){return function(){return r._openNode(n,t,i)}}(this))},u.prototype.closeNode=function(n,t){return t==null&&(t=null),t===null&&(t=this.options.slide),n.isFolder()?(new i(n,this).close(t),this._saveState()):void 0},u.prototype.isDragging=function(){return this.dnd_handler?this.dnd_handler.is_dragging:!1},u.prototype.refreshHitAreas=function(){return this.dnd_handler.refresh()},u.prototype.addNodeAfter=function(n,t){var i;return i=t.addAfter(n),this._refreshElements(t.parent),i},u.prototype.addNodeBefore=function(n,t){var i;return i=t.addBefore(n),this._refreshElements(t.parent),i},u.prototype.addParentNode=function(n,t){var i;return i=t.addParent(n),this._refreshElements(i.parent),i},u.prototype.removeNode=function(n){var t;return t=n.parent,t?(this.select_node_handler.removeFromSelection(n,!0),n.remove(),this._refreshElements(t)):void 0},u.prototype.appendNode=function(n,t){var i;return t=t||this.tree,i=t.append(n),this._refreshElements(t),i},u.prototype.prependNode=function(n,t){var i;return t||(t=this.tree),i=t.prepend(n),this._refreshElements(t),i},u.prototype.updateNode=function(n,t){var i;return i=t.id&&t.id!==n.id,i&&this.tree.removeNodeFromIndex(n),n.setData(t),i&&this.tree.addNodeToIndex(n),this.renderer.renderFromNode(n),this._selectCurrentNode()},u.prototype.moveNode=function(n,t,i){var r;return r=y.nameToIndex(i),this.tree.moveNode(n,t,r),this._refreshElements()},u.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()},u.prototype.addToSelection=function(n){if(n)return this.select_node_handler.addToSelection(n),this._getNodeElementForNode(n).select(),this._saveState()},u.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()},u.prototype.isNodeSelected=function(n){return this.select_node_handler.isNodeSelected(n)},u.prototype.removeFromSelection=function(n){return this.select_node_handler.removeFromSelection(n),this._getNodeElementForNode(n).deselect(),this._saveState()},u.prototype.scrollToNode=function(n){var t,i;return t=$(n.element),i=t.offset().top-this.$el.offset().top,this.scroll_handler.scrollTo(i)},u.prototype.getState=function(){return this.save_state_handler.getState()},u.prototype.setState=function(n){return this.save_state_handler.setInitialState(n),this._refreshElements()},u.prototype.setOption=function(n,t){return this.options[n]=t},u.prototype.moveDown=function(){if(this.key_handler)return this.key_handler.moveDown()},u.prototype.moveUp=function(){if(this.key_handler)return this.key_handler.moveUp()},u.prototype.getVersion=function(){return w},u.prototype._init=function(){return u.__super__._init.call(this),this.element=this.$el,this.mouse_delay=300,this.is_initialized=!1,this.renderer=new c(this),s!=null?this.save_state_handler=new s(this):this.options.saveState=!1,r!=null&&(this.select_node_handler=new r(this)),f!=null?this.dnd_handler=new f(this):this.options.dragAndDrop=!1,h!=null&&(this.scroll_handler=new h(this)),o!=null&&r!=null&&(this.key_handler=new o(this)),this._initData(),this.element.click($.proxy(this._click,this)),this.element.dblclick($.proxy(this._dblclick,this)),this.options.useContextMenu?this.element.bind("contextmenu",$.proxy(this._contextmenu,this)):void 0},u.prototype._deinit=function(){return this.element.empty(),this.element.unbind(),this.key_handler&&this.key_handler.deinit(),this.tree=null,u.__super__._deinit.call(this)},u.prototype._initData=function(){return this.options.data?this._loadData(this.options.data):this._loadDataFromUrl(this._getDataUrlInfo())},u.prototype._getDataUrlInfo=function(n){var t,i;return t=this.options.dataUrl||this.element.data("url"),i=function(i){return function(){var r,f,u;return u={url:t},n&&n.id?(r={node:n.id},u.data=r):(f=i._getNodeIdToBeSelected(),f&&(r={selected_node:f},u.data=r)),u}}(this),$.isFunction(t)?t(n):$.type(t)==="string"?i():t},u.prototype._getNodeIdToBeSelected=function(){return this.options.saveState?this.save_state_handler.getNodeIdToBeSelected():null},u.prototype._initTree=function(n){var t;return this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass),this.select_node_handler&&this.select_node_handler.clear(),this.tree.loadFromData(n),t=this._setInitialState(),this._refreshElements(),t&&this._setInitialStateOnDemand(),this.is_initialized?void 0:(this.is_initialized=!0,this._triggerEvent("tree.init"))},u.prototype._setInitialState=function(){var i,r,n,t,u;return u=function(n){return function(){var i,t;return n.options.saveState&&n.save_state_handler?(t=n.save_state_handler.getStateFromStorage(),t?(i=n.save_state_handler.setInitialState(t),[!0,i]):[!1,!1]):[!1,!1]}}(this),i=function(n){return function(){var i,t;return n.options.autoOpen===!1?!1:(i=n._getAutoOpenMaxLevel(),t=!1,n.tree.iterate(function(n,r){return n.load_on_demand?(t=!0,!1):n.hasChildren()?(n.is_open=!0,r!==i):!1}),t)}}(this),t=u(),r=t[0],n=t[1],r||(n=i()),n},u.prototype._setInitialStateOnDemand=function(){var n,t;return t=function(n){return function(){var t;return n.options.saveState&&n.save_state_handler?(t=n.save_state_handler.getStateFromStorage(),t?(n.save_state_handler.setInitialStateOnDemand(t),!0):!1):!1}}(this),n=function(n){return function(){var i,u,r,t;return r=n._getAutoOpenMaxLevel(),u=[],i=function(i){return n._openNode(i,!1,t)},t=function(){return n.tree.iterate(function(t,u){return t.load_on_demand?(t.is_loading||i(t),!1):(n._openNode(t,!1),u!==r)})},t()}}(this),t()?void 0:n()},u.prototype._getAutoOpenMaxLevel=function(){return this.options.autoOpen===!0?-1:parseInt(this.options.autoOpen)},u.prototype._refreshElements=function(n){return n==null&&(n=null),this.renderer.render(n),this._triggerEvent("tree.refresh")},u.prototype._click=function(n){var t,r,i;if(t=this._getClickTarget(n.target),t){if(t.type==="button")return this.toggle(t.node,this.options.slide),n.preventDefault(),n.stopPropagation();if(t.type==="label"&&(i=t.node,r=this._triggerEvent("tree.click",{node:i,click_event:n}),!r.isDefaultPrevented()))return this._selectNode(i,!0)}},u.prototype._dblclick=function(n){var t;return t=this._getClickTarget(n.target),t&&t.type==="label"?this._triggerEvent("tree.dblclick",{node:t.node,click_event:n}):void 0},u.prototype._getClickTarget=function(n){var i,r,u,t;if(u=$(n),i=u.closest(".jqtree-toggler"),i.length){if(t=this._getNode(i),t)return{type:"button",node:t}}else if(r=u.closest(".jqtree-element"),r.length&&(t=this._getNode(r),t))return{type:"label",node:t};return null},u.prototype._getNode=function(n){var t;return t=n.closest("li.jqtree_common"),t.length===0?null:t.data("node")},u.prototype._getNodeElementForNode=function(n){return n.isFolder()?new i(n,this):new v(n,this)},u.prototype._getNodeElement=function(n){var t;return t=this._getNode(n),t?this._getNodeElementForNode(t):null},u.prototype._contextmenu=function(n){var t,i;return t=$(n.target).closest("ul.jqtree-tree .jqtree-element"),t.length&&(i=this._getNode(t),i)?(n.preventDefault(),n.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:i,click_event:n}),!1):void 0},u.prototype._saveState=function(){if(this.options.saveState)return this.save_state_handler.saveState()},u.prototype._mouseCapture=function(n){return this.options.dragAndDrop?this.dnd_handler.mouseCapture(n):!1},u.prototype._mouseStart=function(n){return this.options.dragAndDrop?this.dnd_handler.mouseStart(n):!1},u.prototype._mouseDrag=function(n){var t;return this.options.dragAndDrop?(t=this.dnd_handler.mouseDrag(n),this.scroll_handler&&this.scroll_handler.checkScrolling(),t):!1},u.prototype._mouseStop=function(n){return this.options.dragAndDrop?this.dnd_handler.mouseStop(n):!1},u.prototype._triggerEvent=function(n,t){var i;return i=$.Event(n),$.extend(i,t),this.element.trigger(i),i},u.prototype.testGenerateHitAreas=function(n){return this.dnd_handler.current_item=this._getNodeElementForNode(n),this.dnd_handler.generateHitAreas(),this.dnd_handler.hit_areas},u.prototype._selectCurrentNode=function(){var n;return n=this.getSelectedNode(),n&&(t=this._getNodeElementForNode(n),t)?t.select():void 0},u.prototype._deselectCurrentNode=function(){var n;return n=this.getSelectedNode(),n?this.removeFromSelection(n):void 0},u}(l);e.getModule=function(n){var t;return t={node:u,util:b},t[n]};p.register(e,"tree")},{"./drag_and_drop_handler":1,"./elements_renderer":2,"./key_handler":3,"./mouse.widget":4,"./node":5,"./node_element":6,"./save_state_handler":7,"./scroll_handler":8,"./select_node_handler":9,"./simple.widget":10,"./util":12,"./version":13}],12:[function(n,t){var i,r,u,f;i=function(n,t){for(var r,f,i=r=0,u=n.length;r<u;i=++r)if(f=n[i],f===t)return i;return-1};u=function(n,t){return n.indexOf?n.indexOf(t):i(n,t)};f=function(n){return typeof n=="number"&&n%1==0};r=function(n){return(""+n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};t.exports={_indexOf:i,html_escape:r,indexOf:u,isInt:f}},{}],13:[function(n,t){t.exports="1.0.0"},{}]},{},[11]);